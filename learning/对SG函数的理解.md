# 对SG函数的理解

---

## NIM游戏正确性

​	1、如果是全0的局面，那么一定必败。

​	2、从任意一个异或值不为0的局面，一定可以转移到一个异或值为0的状态。我们知道一定有一个$a_i$的某一位与$k$的最高位的$1$是相同的，那么必然有$a_i \oplus k < a_i$,我们可以通过改变$a_i$的值为$a_i'$，使$a_1\oplus ... \oplus a_n = 0$。

​	3、对于任意一个局面，若异或值为0，则不存在任何一个移动可以使新的局面的异或值为0.如果一位的异或值为0，那么这一位上一定有偶数个1，那么只改变一个数，一定无法使其保持0.

## SG函数

​	SG函数实际上是ICG游戏向NIM游戏的规约。

​	我们将 $SG(x)=0$ 的状态 $x$ 称为 败态；将 $SG(x)=c(c\ge 1)$ 的状态 $x$ 称为 $c$级胜态。根据SG函数的定义，任何高级胜态的局面都可以一步转化为任意低级胜态或败态，这与NIM博弈的规则实际是相同的。与NIM博弈不同的是，一个低级胜态有可能通过一步转化为你一个高级胜态。对于这种情况，我们可以证明它仍然满足NIM博弈的性质：如果当前局面为必败态，将其中一个子局面转化为高级胜态，对手可以将其一步转化为原始状态（必败态）；如果当前局面为必胜态，按照NIM博弈策略继续执行即可。